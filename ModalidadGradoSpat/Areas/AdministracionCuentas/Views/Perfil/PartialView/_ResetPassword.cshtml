@model ResetPassword
@await Html.PartialAsync("~/Views/RenderSweetAlert.cshtml")
<style>
    .form-group i {
        cursor: pointer;
    }
</style>
<form class="col-md-6 mx-auto text-center mt-md-5" asp-action="ResetPassword" method="post" autocomplete="off" onsubmit="return showFormAux(this);">
    <div class="form-group">
        <label for="newPassword">Ingresa tu Nueva Contrase&ntilde;a</label>
        <div class="input-group">
            <input asp-for="Password" type="password" class="form-control" autocomplete="off" id="newPassword" name="Password" placeholder="Nueva Contraseña">
            <div class="input-group-append">
                <span class="input-group-text"><i class="far fa-eye"></i></span>
            </div>
        </div>
        @Html.ValidationMessageFor(x => x.Password, "", new { @class = "text-danger" })
        <ul class="text-left text-success">
            <li id="charac">Requiere M&iacute;nimo 8 caracteres</li>
            <li id="lower">Necesita una Min&uacute;scula</li>
            <li id="mayus">Necesita una May&uacute;scula</li>
            <li id="numbe">Necesita un N&uacute;mero (0-9)</li>
            <li id="special">Necesita un Caracter Especial (*,+)</li>
        </ul>
    </div>
    <div class="form-group">
        <label for="confirmNewPassword">Confirma tu Nueva Contrase&ntilde;a</label>
        <input asp-for="ConfirmPassword" type="password" class="form-control" autocomplete="off" id="confirmNewPassword" name="ConfirmPassword" placeholder="Ingresa nuevamente la Contraseña">
        @Html.ValidationMessageFor(x => x.ConfirmPassword, "", new { @class = "text-danger" })
    </div>
    <button type="submit" class="btn btn-primary">Guardar</button>
</form>
<script>
    $(document).ready(function () {
        var mayus = new RegExp("^(?=.*[A-Z])");
        var special = new RegExp("^(?=.*[!@@#$%&*])");
        var numbe = new RegExp("^(?=.*[0-9])");
        var lower = new RegExp("^(?=.*[a-z])");
        var charac = new RegExp("^(?=.{8,})");

        var regExp = [mayus, special, numbe, lower, charac];
        var elem = [$("#mayus"), $("#special"), $("#numbe"), $("#lower"), $("#charac")];

        $("#newPassword").on("keyup", function () {
            var pass = $("#newPassword").val();
            for (var i = 0; i < 5; i++) {
                if (regExp[i].test(pass)) {
                    elem[i].hide();
                }
                else {
                    elem[i].show();
                }
            }
        });
    });
    var togglePassword = document.querySelector('.fa-eye');
    var password = document.querySelector('#newPassword');
    togglePassword.addEventListener('click', function (e) {
        var type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        this.classList.toggle('fa-eye-slash');
    });
</script>