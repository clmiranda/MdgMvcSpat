@model Mascota
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .rounded {
        border-radius: .55rem !important
    }

    hr.solid {
        border-top: 3px solid #bbb;
    }

    .carousel-item {
        text-align: center;
    }

    .carousel-inner img {
        display: inline-block !important;
    }

    .carousel-inner {
        height: 100%;
        background-color: #213B74;
    }

    button[disabled] {
        cursor: not-allowed;
    }
</style>
@if (Model == null)
{
    <div class="card rounded col-12">
        <div class="card-body">
            <p class="text-center">
                La mascota no pudo ser encontrada, Id incorrecto.
            </p>
        </div>
    </div>
}
else
{
    @if (Model.Fotos.Count() <= 0)
    {
        <div class="card rounded col-12">
            <div class="card-body">
                <p>Actualmente no se agregaron fotos de la mascota @Model.Nombre.</p>
            </div>
        </div>
    }
    <div id="carouselExampleControls" class="carousel slide carousel-fade" data-ride="carousel">
        <div class="carousel-inner">
            @foreach (var foto in Model.Fotos)
            {
                if (foto.IsPrincipal == true)
                {
                    <div class="carousel-item active">
                        <img class="d-block img-fluid" src="@foto.Url" alt="@foto.Id" width="500" height="500">
                    </div>
                }
                else
                {
                    <div class="carousel-item">
                        <img class="d-block img-fluid" src="@foto.Url" alt="@foto.Id" width="500" height="500">
                    </div>
                }
            }
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <br />
    <div class="container-fluid row justify-content-between">
        <div class="card rounded col-sm-12 col-lg-8">
            <div class="card-body">
                <h3 class="card-title"><b>@Model.Nombre</b></h3>
                <hr class="solid">
                <h3 class="card-title"><b>Acerca de la Mascota</b></h3>
                <p class="card-text"><b>Sexo:</b> @Model.Sexo   /   <b>Edad:</b> @Model.Edad   /   <b>Tamaño:</b> @Model.Tamaño</p>
                @*<p class="card-text"><b>Edad:</b> @Model.Edad</p>
                    <p class="card-text"><b>Tamaño:</b> @Model.Tamaño</p>*@
                <hr class="solid">
                @if (Model.Esterilizado == true)
                {
                    <p class="card-text"><b>Esterilizado:</b> La mascota se encuentra esterilizada.</p>
                }
                else
                {
                    <p class="card-text"><b>Esterilizado:</b> La mascota no se encuentra esterilizada.</p>
                }
                <p class="card-text"><b>Descripcion de nuestra mascota:</b> @Model.Descripcion</p>
            </div>
        </div>
        <div class="card rounded col-sm-12 col-lg-3">
            <div class="card-body">
                <button id="buttonAdoptar" onclick="location.href='@Url.Action("ContratoAdopcion","Adopciones",new { id=Model.Id, area=""},Context.Request.Scheme)'" type="button" class="btn btn-primary btn-block rounded-pill"><i class="fa fa-paw fa-2x" aria-hidden="true"></i>Quiero Adoptar</button>
                @if (Model.EstadoSituacion == "Inactivo")
                {
                    <div class="alert alert-warning mt-5" role="alert">
                        <p class="text-center">La mascota actualmente no est&aacute; en adopci&oacute;n.</p>
                    </div>
                    <script>
                        $("#buttonAdoptar").prop('disabled', true);
                    </script>
                }
                else if (Model.ContratoAdopcion != null)
                {
                    @if (Model.ContratoAdopcion.Estado.Equals("Pendiente"))
                    {
                        <div class="alert alert-warning mt-5" role="alert">
                            <p class="text-center">La mascota actualmente se encuentra en un proceso de adopcion.</p>
                        </div>
                    }
                    else if (Model.ContratoAdopcion.Estado.Equals("Aprobado"))
                    {
                        <div class="alert alert-warning mt-5" role="alert">
                            <p class="text-center">La mascota actualmente ha sido adoptada.</p>
                        </div>
                    }
                    <script>
                        $("#buttonAdoptar").prop('disabled', true);
                    </script>
                }
                @*else if (Model.EstadoSituacion == "Registrado")
                    {
                        <div class="alert alert-warning mt-5" role="alert">
                            La Mascota aun no se encuentra disponible para ser adoptada.
                        </div>
                        <script>
                            $("#buttonAdoptar").prop('disabled', true);
                        </script>
                    }
                    else if (Model.EstadoSituacion == "Adopcion en Proceso")
                    {
                        <div class="alert alert-warning mt-5" role="alert">
                            La Mascota se encuentra actualmente en un proceso de adopcion.
                        </div>
                        <script>
                            $("#buttonAdoptar").prop('disabled', true);
                        </script>
                    }
                    else if (Model.EstadoSituacion == "Tratamiento")
                    {
                        <div class="alert alert-warning mt-5" role="alert">
                            La Mascota se encuentra actualmente en un tratamiento para
                            en su pronta recuperacion buscar una familia que la adopte.
                        </div>
                        <script>
                            $("#buttonAdoptar").prop('disabled', true);
                        </script>
                    }*@
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $('.carousel').carousel();
    </script>
}